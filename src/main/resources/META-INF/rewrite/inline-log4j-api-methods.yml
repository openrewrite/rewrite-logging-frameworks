#
# Copyright 2025 the original author or authors.
# <p>
# Licensed under the Moderne Source Available License (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# <p>
# https://docs.moderne.io/licensing/moderne-source-available-license
# <p>
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

#
# Generated InlineMe recipes from TypeTable
#

type: specs.openrewrite.org/v1beta/recipe
name: org.apache.logging.log4j.InlineLog4jApiMethods
displayName: Inline `log4j-api-2` methods annotated with `@InlineMe`
description: >-
  Automatically generated recipes to inline method calls based on `@InlineMe` annotations
  discovered in the type table.preconditions:
  - org.openrewrite.Singleton
recipeList:
  # From org.apache.logging.log4j:log4j-api:2.25.2
  - org.openrewrite.java.InlineMethodCalls:
      methodPattern: 'org.apache.logging.log4j.message.ParameterizedMessage ParameterizedMessage(java.lang.String, java.lang.String[], java.lang.Throwable)'
      replacement: 'this(pattern, Arrays.stream(args).toArray(Object[]::new), throwable)'
      imports:
        - 'java.util.Arrays'
      classpathFromResources:
        - 'log4j-api-2'
  - org.openrewrite.java.InlineMethodCalls:
      methodPattern: 'org.apache.logging.log4j.message.StructuredDataId StructuredDataId(java.lang.String, int, java.lang.String[], java.lang.String[])'
      replacement: 'this(name, String.valueOf(enterpriseNumber), required, optional)'
      classpathFromResources:
        - 'log4j-api-2'
  - org.openrewrite.java.InlineMethodCalls:
      methodPattern: 'org.apache.logging.log4j.message.StructuredDataId StructuredDataId(java.lang.String, int, java.lang.String[], java.lang.String[], int)'
      replacement: 'this(name, String.valueOf(enterpriseNumber), required, optional, maxLength)'
      classpathFromResources:
        - 'log4j-api-2'
  - org.openrewrite.java.InlineMethodCalls:
      methodPattern: 'org.apache.logging.log4j.message.StructuredDataId makeId(java.lang.String, int)'
      replacement: 'this.makeId(defaultId, String.valueOf(anEnterpriseNumber))'
      classpathFromResources:
        - 'log4j-api-2'
  - org.openrewrite.java.InlineMethodCalls:
      methodPattern: 'org.apache.logging.log4j.MarkerManager getMarker(java.lang.String, org.apache.logging.log4j.Marker)'
      replacement: 'MarkerManager.getMarker(name).addParents(parent)'
      imports:
        - 'org.apache.logging.log4j.MarkerManager'
      classpathFromResources:
        - 'log4j-api-2'
